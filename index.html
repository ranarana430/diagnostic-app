<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>〇〇診断</title>
</head>
<body>
  <h1>〇〇診断</h1>
  <div id="app">
    <p>これから10問の質問をします。</p>
    <button onclick="start()">診断スタート</button>
  </div>

  <script>
    const questions = [
      "あなたは朝型？夜型？",
      "人と話すのが好き？",
      "計画を立てるのが得意？",
      "好奇心旺盛？",
      "慎重派？それとも直感派？",
      "リーダータイプ？",
      "整理整頓が得意？",
      "一人の時間が好き？",
      "決断は早い？",
      "新しいことに挑戦するのが好き？"
    ];

    const choices = ["A", "B", "C", "D", "E", "F"];
    let shuffled = [];
    let index = 0;
    let answers = [];

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function start() {
      shuffled = shuffle([...questions]);
      index = 0;
      answers = [];
      showQuestion();
    }

    function showQuestion() {
      if (index >= shuffled.length) {
        showResult();
        return;
      }

      const q = shuffled[index];
      let html = `<h2>Q${index + 1}: ${q}</h2>`;
      choices.forEach(c => {
        html += `<button onclick="answer('${c}')">${c}</button> `;
      });

      document.getElementById('app').innerHTML = html;
    }

    function answer(c) {
      answers.push(c);
      index++;
      showQuestion();
    }

    function showResult() {
      const count = {};
      answers.forEach(a => count[a] = (count[a] || 0) + 1);
      const sorted = Object.entries(count).sort((a, b) => b[1] - a[1]);
      const result = sorted[0][0];
      document.getElementById('app').innerHTML = `
        <h2>診断結果</h2>
        <p>あなたのタイプは「${result}」です！</p>
      `;
    }
  </script>
</body>
</html>
